{% extends "base.html" %}

{% block content %}
<h2>Skill Progress Report</h2>
<form action="{{ url_for('reports.report') }}" method="POST">
    <label for="start_date">Start Date:</label>
    <input type="date" id="start_date" name="start_date" required>
    
    <label for="end_date">End Date:</label>
    <input type="date" id="end_date" name="end_date" required>
    
    <label for="skill_id">Select Skill:</label>
    <select id="skill_id" name="skill_id" required>
        {% for skill in skills %}
        <option value="{{ skill.skill_id }}">{{ skill.skill_name }}</option>
        {% endfor %}
    </select>
    
    <button type="submit">Generate Report</button>
</form>

{% if activities %}
<h3>Report Results</h3>
<table>
    <tr>
        <th>Skill Name</th>
        <th>Total Activities</th>
        <th>Total Duration (mins)</th>
    </tr>
    {% for activity in activities %}
    <tr>
        <td>{{ activity.skill_name }}</td>
        <td>{{ activity.total_activities }}</td>
        <td>{{ activity.total_duration }}</td>
    </tr>
    {% endfor %}
</table>
{% endif %}
{% endblock %}
